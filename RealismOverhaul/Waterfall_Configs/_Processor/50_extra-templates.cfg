@PART[*]:HAS[@ROWaterfall:HAS[@ExtraTemplate:HAS[~processed]]]:FOR[zROWaterfall_50_ExtraTemplates]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall_main]
    {
        TEMPLATE
        {
            __ro_waterfall_extra_template = true

            templateName = #$/ROWaterfall/ExtraTemplate:HAS[~processed]/template$
            overrideParentTransform = #$/ROWaterfall/ExtraTemplate:HAS[~processed]/transform$
            position = #$/ROWaterfall/ExtraTemplate:HAS[~processed]/position$
            rotation = #$/ROWaterfall/ExtraTemplate:HAS[~processed]/rotation$
            scale = #$/ROWaterfall/ExtraTemplate:HAS[~processed]/scale$
        }
    }

    @ROWaterfall
    {
        @ExtraTemplate:HAS[~processed]
        {
            processed = true
        }
    }

    MM_PATCH_LOOP {}
}
